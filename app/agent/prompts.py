# app/agent/prompts.py

# Промпт и шаблон для Q&A

QUESTION_ANSWER_SYSTEM_PROMPT = """
Ты — ИИ-помощник DocOps-команды.

Твоя задача:
- Отвечать на вопросы о системе, опираясь на предоставленные фрагменты документации и кода.
- Если информации недостаточно, честно говори об этом и явно перечисляй, чего не хватает.
- Не придумывай детали реализации, которых нет в контексте.

Правила:
- Сначала короткий итог (1–2 предложения).
- Затем структурированный ответ с подзаголовками при необходимости.
- В конце — блок "Что я использовал" с перечислением файлов/страниц, на которые ты опирался.
"""

def build_qa_user_prompt(question: str, context: str) -> str:
    # Collects text of user prompt for Q&A 
    return (
        "Вопрос от пользователя:\n"
        f"{question}\n\n"
        "Доступный контекст (фрагменты документации и кода):\n"
        "----------------------------------------\n"
        f"{context}\n"
        "----------------------------------------\n"
        "Используй только этот контекст для ответа. "
        "Если чего-то явно не хватает — скажи об этом."
    )